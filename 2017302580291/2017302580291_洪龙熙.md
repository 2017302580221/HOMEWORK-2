# Homework2

---

## 个人信息

- 班级：软工六班
- 学号：2017302580291
- 姓名：洪龙熙

---

## 作业


### 作业1

- 题目

> P10
>
> 考虑一个长度为 L 的分组从端系统 A 开始，经3段链路传送到目的端系统。令 d~i~、s~i~ 和 R~i~ 表示链路 i 的长度、传播速度和传输速率（i = 1, 2, 3）。该分组交换机对每个分组的时延为 d~proc~ 。
>
> 1. 假定没有排队时延，用d~i~、s~i~、 R~i~ 和 L 表示，该分组总的端到端时延是什么？
> 2. 现在假定该分组是 1500 字节，在所有3条链路上的传播时延是 2.5x10^8^ m/s，所有3条链路的传输速率是 2Mbps, 分组交换机的处理时延是 3ms,第一段链路的长度是5000km,第二段链路的长度是4000km,并且 最后一段链路的长度是1000km。对于这些值，该端到端时延为多少？ 

- 答案

1. d~nodel~ = d~proc~  + d~queue~ + d~trans~ + d~prop~

   d~proc~ = d~proc~

   d~queue~ = 0

   d~trans~ = ${L\over R_i}$

   d~prop~ = ${d_i\over s_i}$

   共3段链路，则有2个分组交换机

   故：d~nodel~ = d~proc~ + d~proc~ + $\sum_{i=0}^3$${L\over R_i}$ +$\sum_{i=0}^3$ ${d_i\over s_i}$

2. d~proc~ = 3 ms

   L = 1500 bytes = 12000 bits

   R = 2 Mbps = 2000000 bits per second = 2000 bits per millisecond

   d~1~ = 5000 km 

   d~2~ = 4000 km

   d~3~ = 1000 km

   s~i~ = 2.5x10^8^ m/s = 250 km/ms

   代入，得：

   d~nodel~ = d~proc~ + d~proc~ + $\sum_{i=0}^3$${L\over R_i}$ +$\sum_{i=0}^3$ ${d_i\over s_i}$

   ​		 = 3 + 3 + $3 \times {12000 \over 2000}$ + $5000 \over 250$ + $4000 \over 250$ + $1000 \over 250$

   ​		 = 64 ms

### 作业2

- 题目

> P25
>
> 假定两台主机A和B相隔20000km,由一条直接的 R= 2Mbps 的链路相连。假定跨越该链路的传播速率是 2. 5 x10^8^m/s。
>
> 1. 计算带宽-时延积 R * d~prop~ 
>
> 2. 考虑从主机A到主机B发送一个800 000比特的文件。假定该文件作为一个大的报文连续发送。在任何给定的时间，在链路上具有的比特数量最大值是多少? 
>
> 3. 给出带宽-时延积的一种解释。 
>
> 4. 在该链路上一个比特的宽度（以米计）是多少？它比一个足球场更长吗？ 
>
> 5. 用传播速率 s 、带宽 R 和链路 m 的长度表示，推导出一个比特宽度的一般表示式。 

- 答案

  1. R * d~prop~ = 2×10^6^ * $2×10^7 \over 2.5×10^8$  = 2×10^6^ * 8×10^-2^ = 1.6×10^5^ bits = 160 kb

  2. 160 kb = 160000 b

  3. 带宽-时延积就是这条链路上可具有的比特数的最大值。

     带宽-时延积 = 链路带宽 * 传播时延

  4. $m \over R×d_{prop}$ = $2×10^7 \over 1.6×10^5$ = 125 m > 120 m，比足球场更长

  5. d~trans~ = $L \over R$ 

     d~prop~ = $m \over s$

     则d~prop~占d~trans~的百分比为：$mR \over sL$

     即，经过 $mR \over sL$ s 后，链路上占满比特

     一共有 L 比特，则任一时间链路上具有比特数为：$L \times {mR \over sL}$ = $mR \over s$ bits

     $mR \over s$ 为带宽-时延积

     则，宽度为 $m \over {mR \over s}$ = $s \over R $ m

### 作业3

- 题目

> P33
>
> 考虑从主机 A 到主机 B 发送一个 F 比特的大文件。A 和 B 之间有三段链路（和两台交换机），并且该链路不拥塞（即没有排队时延）。主机 A 将该文件分为每个为 S 比特的报文段，并为每个报文段增加一个 80 比特的首部，形成 L = 80 + S 比特的分组。每条链路的传输速率为 R bps。求出从 A 到 B 移动该文件时延最小的值 S。忽略传播时延。

- 答案

  一个分组经过一个链路用时 $t = {80+S \over R}$ s，则：

  第一个分组经过三条链路到达 B 用时 3t s

  剩余分组到达 B 用时为 $(n - 1) \times t$ s（只需当作是从第二个交换机到达B即可，所以乘的只是一个t）

  $n = {F \over S}$

  故：

  $T = 3t + (n-1)t$

  ​	$=(n + 2)t $

  ​	$= {{{F+2S} \over S} \times {{80+S}\over R}}$ 

  ​	$={ {(F+2S)(80+S)} \over RS}$

  对T求导并使其为0，即：${dT \over dS} = {{2S^2 - 80F} \over (RS)^2} = 0$

  解得：$S = \sqrt{40F}$

- 疑惑

  个人认为，一个分组从 A 到 B 的用时应该是 4t

  3t 时，分组中只有的头部到达了 B，除头部外的剩余部分应该还在链路中

  所以应该是

  $T = 4t+(n-1)t$

  ​	$= (n+3)t$

  ​	$={{(F+3S)(80+S)} \over RS}$ 

  令 ${dT \over dS} = 0$

  则 $S = \sqrt{80F \over 3}$